<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ú–∞–Ω–≥–∞ –ò–º–ø–æ–∑–∏—Ü–∏—è üå∏</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap');

    body {
        font-family: 'Comic Neue', cursive;
        background: #fff0f5;
        color: #333;
        padding: 20px;
    }

    h1 {
        text-align: center;
        color: #ff69b4;
        text-shadow: 1px 1px 3px #fff;
    }

    label {
        font-weight: bold;
        color: #ff1493;
    }

    input, button {
        margin: 5px;
        padding: 8px;
        border-radius: 8px;
        border: 2px solid #ffb6c1;
        outline: none;
        font-size: 16px;
    }

    button {
        background: #ffb6c1;
        color: white;
        cursor: pointer;
        transition: 0.2s;
    }

    button:hover {
        background: #ff69b4;
    }

    #result {
        margin-top: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
    }

    .sheet {
        background: #ffe4e1;
        border: 2px dashed #ff69b4;
        border-radius: 15px;
        padding: 15px;
        width: 250px;
        box-shadow: 2px 2px 10px rgba(255,105,180,0.3);
        position: relative;
    }

    .sheet::before {
        content: "üìñ";
        position: absolute;
        top: -10px;
        left: -10px;
        font-size: 24px;
    }

    .side {
        background: #fff0f5;
        margin: 5px 0;
        padding: 8px;
        border-radius: 10px;
        text-align: center;
        border: 1px solid #ffb6c1;
    }

    .side span {
        display: inline-block;
        margin: 3px 6px;
        padding: 5px 10px;
        border-radius: 8px;
        background: #ffc0cb;
        color: white;
        font-weight: bold;
    }
</style>
</head>
<body>
<h1>–ú–∞–Ω–≥–∞ –ò–º–ø–æ–∑–∏—Ü–∏—è üå∏</h1>

<label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü: <input type="number" id="pages" value="16"></label><br>
<label>–õ–∏—Å—Ç–æ–≤ –≤ —Å–±–æ—Ä–∫–µ: <input type="number" id="sheets" value="4"></label><br>
<button onclick="generate()">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã ‚ú®</button>

<h2>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h2>
<div id="result"></div>

<script>
function generate() {
    let n_pages = parseInt(document.getElementById("pages").value);
    let sheets_per_signature = parseInt(document.getElementById("sheets").value);

    let total_slots = sheets_per_signature * 4;
    let pages = [];
    for(let i=0; i<n_pages; i++) pages.push(i+1); // –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å 1
    while(pages.length < total_slots) pages.push('-'); // –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

    let result = [];
    for(let i=0; i<sheets_per_signature; i++){
        let left = i*2;
        let right = total_slots - 1 - left;
        result.push([
            [pages[left], pages[right]],        // –≤–Ω–µ—à–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞
            [pages[right-1], pages[left+1]]    // –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞
        ]);
    }

    const container = document.getElementById("result");
    container.innerHTML = "";
    result.forEach((sheet, idx) => {
        const div = document.createElement("div");
        div.className = "sheet";
        div.innerHTML = `<h3>–õ–∏—Å—Ç ${idx+1} üìÑ</h3>`;
        sheet.forEach((side, sidx) => {
            const sideDiv = document.createElement("div");
            sideDiv.className = "side";
            sideDiv.innerHTML = `–°—Ç–æ—Ä–æ–Ω–∞ ${sidx+1}: <span>${side[0]}</span> | <span>${side[1]}</span>`;
            div.appendChild(sideDiv);
        });
        container.appendChild(div);
    });
}
</script>
</body>
</html>
